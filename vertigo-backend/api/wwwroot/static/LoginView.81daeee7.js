import{P as f,A as l}from"./PanelCardItem.5bec40dd.js";import{_ as y,k,l as v,r as d,m as _,o as u,d as p,f as o,w as i,t as w,h as S,e as g,q as m,T as b,p as I,j as L}from"./index.746d02c0.js";const V=s=>(I("data-v-b300151c"),s=s(),L(),s),T={class:"flex justify-center items-center h-screen"},U=V(()=>g("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Sign in to your account ",-1)),C={key:0,class:"error py-3"},N={class:"text-sm font-light text-gray-500 dark:text-gray-400"},q={__name:"LoginView",setup(s){const r=k(),h=v(),e=d("");d();async function x(c){try{const t=await l.login(c.username,c.password);if(r.addToken(t.data.access_token),localStorage.getItem("token")){const a=b.getTokenHeader();try{const n=await l.getUser();r.addUser(n.data.id)}catch{e.value=t}h.push("home")}else r.isUserLoggedIn=!1}catch(t){e.value=t}console.log(e)}return(c,t)=>{const a=_("FormKit"),n=_("RouterLink");return u(),p("div",T,[o(f,null,{default:i(()=>[U,o(a,{type:"form","submit-label":"Login",onSubmit:x},{default:i(()=>[o(a,{type:"text",name:"username",label:"Username",validation:"required","label-class":"mx-5"}),o(a,{type:"password",name:"password",label:"Password",validation:"required"}),e.value!=""?(u(),p("h1",C,w(e.value),1)):S("",!0)]),_:1}),g("p",N,[m(" Don\u2019t have an account yet? "),o(n,{to:"/register",class:"text-blue-500 underline"},{default:i(()=>[m("Sign up")]),_:1})])]),_:1})])}}},R=y(q,[["__scopeId","data-v-b300151c"]]);export{R as default};
