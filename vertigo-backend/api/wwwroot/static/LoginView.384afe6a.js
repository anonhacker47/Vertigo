import{_ as f,u as x,a as y,r as l,b as d,o as u,d as _,e as o,w as c,P as k,t as v,f as w,g,h as p,A as b,p as S,i as L}from"./index.850ea605.js";const I=s=>(S("data-v-2a2954e8"),s=s(),L(),s),V={class:"flex justify-center items-center h-full"},C=I(()=>g("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Sign in to your account ",-1)),B={key:0,class:"error py-3"},N={class:"text-sm font-light text-gray-500 dark:text-gray-400"},U={__name:"LoginView",setup(s){const a=x(),m=y(),n=l("");l();async function h(r){const i=btoa(r.username)+btoa(":"+r.password),t={"Content-Type":"application/json",Authorization:`Basic ${i}`};try{const e=await b.login({headers:t});console.log(e),a.addToken(e.data.access_token,e.data.refresh_token),a.token?(a.isUserLoggedIn=!0,m.push("home")):a.isUserLoggedIn=!1}catch(e){n.value=e}console.log(n)}return(r,i)=>{const t=d("FormKit"),e=d("RouterLink");return u(),_("div",V,[o(k,null,{default:c(()=>[C,o(t,{type:"form","submit-label":"Login",onSubmit:h},{default:c(()=>[o(t,{type:"text",name:"username",label:"Username",validation:"required","label-class":"mx-5"}),o(t,{type:"password",name:"password",label:"Password",validation:"required"}),n.value!=""?(u(),_("h1",B,v(n.value),1)):w("",!0)]),_:1}),g("p",N,[p(" Don\u2019t have an account yet? "),o(e,{to:"/register",class:"text-blue-500 underline"},{default:c(()=>[p("Sign up")]),_:1})])]),_:1})])}}},P=f(U,[["__scopeId","data-v-2a2954e8"]]);export{P as default};
