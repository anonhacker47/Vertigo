import{P as f,A as l}from"./AuthenticationService.64d5b7c8.js";import{_ as y,P as k,Q as v,r as d,R as _,o as u,a as p,h as a,k as i,t as w,i as S,b as g,U as m,T as b,q as I,s as L}from"./index.3f8611ae.js";const V=s=>(I("data-v-538a977c"),s=s(),L(),s),U={class:"flex justify-center items-center h-screen"},T=V(()=>g("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Sign in to your account ",-1)),C={key:0,class:"error py-3"},N={class:"text-sm font-light text-gray-500 dark:text-gray-400"},P={__name:"LoginView",setup(s){const r=k(),h=v(),e=d("");d();async function x(c){try{const t=await l.login(c.username,c.password);if(r.addToken(t.data.access_token),localStorage.getItem("token")){const o=b.getTokenHeader();try{const n=await l.getUser();r.addUser(n.data.id)}catch{e.value=t}h.push("home")}else r.isUserLoggedIn=!1}catch(t){e.value=t}console.log(e)}return(c,t)=>{const o=_("FormKit"),n=_("RouterLink");return u(),p("div",U,[a(f,null,{default:i(()=>[T,a(o,{type:"form","submit-label":"Login",onSubmit:x},{default:i(()=>[a(o,{type:"text",name:"username",label:"Username",validation:"required","label-class":"mx-5"}),a(o,{type:"password",name:"password",label:"Password",validation:"required"}),e.value!=""?(u(),p("h1",C,w(e.value),1)):S("",!0)]),_:1}),g("p",N,[m(" Don\u2019t have an account yet? "),a(n,{to:"/register",class:"text-blue-500 underline"},{default:i(()=>[m("Sign up")]),_:1})])]),_:1})])}}},B=y(P,[["__scopeId","data-v-538a977c"]]);export{B as default};
