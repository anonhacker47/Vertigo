import{o as h,a as g,b as e,n as c,t as m,d as E,r as p,e as G,w as z,_ as K,T as W,u as O,f as J,g as Q,h as n,i as R,j as x,k as X,F as Y,l as ee,S as $,H as te,m as V,v as j,p as le,c as oe,q as se,s as ae}from"./index.ba71b26d.js";import{I as M,_ as w}from"./TypeAheadInput.0a1326a2.js";const H="/static/collection.579eef3a.svg",ie="/static/cart.1705be3d.svg",D="/static/read.15953de9.svg",re={class:"text-white text-sm leading-none uppercase pb-2 break-words"},ne={__name:"IssueCarditem",props:{image:String,themecolor:String,title:String,have_whole:Number,read_whole:Number},setup(a){return(u,r)=>(h(),g("div",{class:"h-44 w-[7.5rem] flex flex-col rounded-lg border-2",style:c(`border-color: rgb${a.themecolor};`)},[e("div",{class:"h-4/5 w-full flex flex-col rounded-lg justify-center bg-cover items-start transition-shadow duration-300 ease-in-out",style:c(`background-image: ${"url("+a.image+")"};`)},[e("div",{class:"h-full w-full justify-center items-center rounded-lg flex",style:c("background: rgba(25,18,43,0.7);")},[e("p",re,m(a.title),1)],4)],4),e("div",{class:"h-1/5 w-full flex rounded-b-lg border-t-2",style:c(`border-color: rgb${a.themecolor};`)},[e("div",{class:"flex basis-1/2 cursor-pointer border-r-2 justify-center",onClick:r[0]||(r[0]=v=>u.$emit("updateStatus","have_whole")),style:c(`border-color: rgb${a.themecolor};`)},[e("img",{class:E(["",{invert:a.have_whole===0}]),src:H,alt:"",width:"22",height:"22"},null,2)],4),e("div",{class:"flex basis-1/2 cursor-pointer justify-center",onClick:r[1]||(r[1]=v=>u.$emit("updateStatus","read_whole"))},[e("img",{class:E(["",{invert:a.read_whole===0}]),src:D,alt:"",width:"20",height:"20"},null,2)])],4)],4))}},de={class:"flex flex-nowrap items-center"},ce={class:"avatar"},ue={class:"w-8 rounded"},me=["src"],ve={class:"flex flex-col ml-2"},fe={class:"text-xs font-bold"},he={class:"text-primary font-medium"},y={__name:"DetailCardItem",props:{icon:String,field:String,detail:String},setup(a){return(u,r)=>(h(),g("div",de,[e("div",ce,[e("div",ue,[e("img",{src:a.icon,alt:"Tailwind-CSS-Avatar-component"},null,8,me)])]),e("div",ve,[e("div",fe,m(a.field),1),e("div",he,m(a.detail),1)])]))}},_e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",id:"edit"},pe={"data-name":"81 Edit"},ge=["fill"],be=["fill"],xe={__name:"EditIcon",props:{fillColor:String},setup(a){return(u,r)=>(h(),g("svg",_e,[e("g",pe,[e("path",{fill:a.fillColor,d:"M24,29.5H6A3.5,3.5,0,0,1,2.5,26V8A3.5,3.5,0,0,1,6,4.5h9a1.5,1.5,0,0,1,0,3H6a.5.5,0,0,0-.5.5V26a.5.5,0,0,0,.5.5H24a.5.5,0,0,0,.5-.5V17a1.5,1.5,0,0,1,3,0v9A3.5,3.5,0,0,1,24,29.5Z"},null,8,ge),e("path",{fill:a.fillColor,d:"M12,21.5a1.5,1.5,0,0,1-1.49-1.69l.56-4.36a1.52,1.52,0,0,1,.42-.87L22.35,3.73a4.19,4.19,0,1,1,5.92,5.92L17.42,20.51a1.52,1.52,0,0,1-.87.42l-4.36.56Zm4.36-2.05h0ZM14,16.34l-.25,1.93L15.66,18,26.15,7.53a1.18,1.18,0,0,0,0-1.68,1.21,1.21,0,0,0-1.68,0Z"},null,8,be)])]))}},we={class:"modal-box border-b-2 border-sky-600",style:{"max-width":"calc(94vw)"}},ye={class:"font-bold text-lg"},$e=e("p",{class:"py-4"},null,-1),Se={class:"modal-action"},Ie={method:"dialog"},Ve={__name:"EditSeriesModal",props:{title:String,modalRef:Boolean},setup(a){return p(!1),(u,r)=>(h(),g("dialog",{class:E(["modal w-full h-full",a.modalRef?"modal-open":"modal"]),onKeydown:r[2]||(r[2]=z(v=>u.$emit("esc"),["esc"]))},[e("div",we,[e("h3",ye,m(a.title),1),$e,G(u.$slots,"default"),e("div",Se,[e("form",Ie,[e("button",{class:"btn",onClick:r[0]||(r[0]=v=>u.$emit("closeModal"))},"Close"),e("button",{class:"btn btn-primary ml-5",onClick:r[1]||(r[1]=v=>u.$emit("submitForm"))},"Submit")])])])],34))}};const _=a=>(se("data-v-05ca05ce"),a=a(),ae(),a),ke={class:"flex flex-col min-h-screen min-w-screen",style:{background:"rgba(18,25,43,0.95)"}},Ce={class:"flex justify-end items-center py-4 pr-20 border-b border-slate-700"},Ue={class:"tooltip tooltip-success tooltip-bottom","data-tip":"Number of Issues"},je={class:"px-5 flex flex-row items-center"},Me=_(()=>e("img",{class:"",src:H,alt:"",width:"28",height:"28"},null,-1)),Ee={class:"pl-2 text-primary font-bold text-lg"},Ae={class:"tooltip tooltip-success tooltip-bottom","data-tip":"Collected"},Be={class:"px-5 flex flex-row items-center"},Ne=_(()=>e("img",{src:ie,alt:"",width:"23",height:"23"},null,-1)),Le={class:"ml-2 text-primary font-bold text-lg"},Re={class:"tooltip tooltip-success tooltip-bottom","data-tip":"Read"},Te={class:"px-5 flex flex-row items-center"},He=_(()=>e("img",{src:D,alt:"",width:"25",height:"25"},null,-1)),De={class:"ml-2 text-primary font-bold text-lg"},Fe={class:"flex flex-col md:flex-row grow"},Pe={class:"flex flex-row pb-6 pr-2 basis-1/2"},qe={class:"flex flex-row flex-grow relative"},Ze=["src"],Ge={class:"flex flex-col mt-8 ml-8 w-[26rem]"},ze={class:"flex flex-row flex-grow max-h-52 justify-around items-center"},Ke={class:"flex flex-col align-middle self-center h-full justify-around items-start"},We={class:"flex flex-col align-middle h-full justify-around items-start"},Oe={class:"flex flex-col align-middle h-full justify-around items-start"},Je={class:"flex h-full flex-row justify-left items-center justify-around"},Qe={class:"flex flex-col h-full justify-center items-center"},Xe=["src"],Ye={class:"flex flex-col justify-start items-stretch ml-14"},et={class:"flex flex-row gap-16 mb-5 justify-between"},tt={class:"flex h-full flex-row justify-left items-around"},lt={class:"form-control"},ot=_(()=>e("option",{disabled:"",value:""},"Pick Format",-1)),st=_(()=>e("option",null,"TPB",-1)),at=_(()=>e("option",null,"HC",-1)),it=_(()=>e("option",null,"OMNI",-1)),rt=_(()=>e("option",null,"ABS",-1)),nt=_(()=>e("option",null,"MANGA",-1)),dt=[ot,st,at,it,rt,nt],ct={class:"form-control"},ut={class:"flex flex-row gap-16 my-5 justify-around"},mt={class:"form-control"},vt={class:"form-control"},ft={class:"form-control"},ht={class:"flex flex-row gap-16 my-5 justify-around"},_t={class:"form-control"},pt={class:"form-control"},gt={class:"form-control"},bt={class:"flex flex-row gap-16 mb-3 justify-around"},xt={class:"form-control w-full"},wt={class:"flex flex-col basis-1/2 flex-grow border-l border-slate-700 pt-4 pb-6"},yt={class:"overflow-scroll",style:{height:"70vh"}},$t={class:"grid grid-cols-4 gap-5 px-16"},T="https://upload.wikimedia.org/wikipedia/commons/c/cd/Placeholder_male_superhero_c.png",St={__name:"SeriesView",setup(a){const u=new URL("/static/paypal.f9a200d6.png",self.location).href,r=new URL("/static/grid.a8d554a6.png",self.location).href,v=new URL("/static/group.29fc1797.png",self.location).href,A=W.getTokenHeader(""),S=O(),i=p(""),k=p(""),o=J({value:i}),b=p({have_count:0,read_count:0,total_count:0}),f=p("(212, 222, 252)"),d=p(),I=p(!1),C=p(!1);function B(){d.value=$.getImagebyId(i.value.id),N(),I.value=!1}async function N(){try{const s=await $.getSeriesbyId(S.params.Id,{headers:A});i.value=s.data,f.value=s.data.dominant_color.slice(0,-1)+s.data.dominant_color.slice(-1),d.value=$.getImagebyId(i.value.id),console.log("getSeries",d.value)}catch{}}async function F(){try{const s=await M.getIssues({headers:A},S.params.Id,"title","asc");k.value=s.data.data,console.log(k)}catch(s){console.log(s)}}async function P(){let s={title:o.value.title,publisher:o.value.publisher,writer:o.value.writer,artist:o.value.artist,editor:o.value.editor,summary:o.value.summary,genre:o.value.genre,main_char:o.value.main_char,series_format:o.value.series_format};C.value&&(s.thumbnail=d.value);try{const t=await $.updateSeries(S.params.Id,s);i.value=t.data,d.value=$.getImagebyId(i.value.id),I.value=!1,console.log(i),C.value=!1}catch(t){console.log(t)}}async function L(){try{const s=await M.getIssueCount(S.params.Id);b.value=s.data,console.log(b)}catch(s){console.log(s)}}async function q(s,t){s[t]=s[t]===0?1:0;try{const l={[t]:s[t]},U=await M.updateIssue(s.id,l);console.log(U.data[t]),L()}catch(l){console.log(l)}}function Z(s){s.target.value?d.value=s.target.value:imagesrc.value=new URL("/static/dummy.7d1be8db.webp",self.location).href,C.value=!0}return Q(()=>{N(),F(),L()}),(s,t)=>(h(),g("div",{class:"top-0 right-0 absolute bottom-0 left-0 bg-no-repeat bg-center h-screen bg-cover",style:c({backgroundImage:"url("+d.value+")"})},[e("div",ke,[n(te),e("div",Ce,[e("div",Ue,[e("div",je,[Me,e("p",Ee,m(b.value.total_count),1)])]),e("div",Ae,[e("div",Be,[Ne,e("p",Le,m(b.value.have_count+"/"+b.value.total_count),1)])]),e("div",Re,[e("div",Te,[He,e("p",De,m(b.value.read_count+"/"+b.value.total_count),1)])])]),e("div",Fe,[e("div",Pe,[e("div",qe,[d.value!="noimage"?(h(),g("img",{key:0,src:d.value,alt:"",class:"w-40 h-56 rounded-lg mt-8 ml-16 border-2",style:c(`border-color: rgb${f.value}`),onError:t[0]||(t[0]=l=>d.value=T)},null,44,Ze)):R("",!0),e("div",Ge,[e("span",{class:"text-4xl font-bold text-ellipsis inlnie-block -nowrap overflow-clip",style:c(`color: rgb${f.value}`)},m(i.value.title),5),e("p",{class:"text-xl font-bold uppercase",style:c(`color: rgb${f.value}`)},m(i.value.publisher),5),e("p",{class:"text-base text-white mt-4 font-normal",style:c(`color: rgb${f.value}`)},m(i.value.summary),5),e("div",ze,[e("div",Ke,[n(y,{icon:x(u),field:"Publisher",detail:i.value.publisher},null,8,["icon","detail"]),n(y,{icon:x(r),field:"Genre",detail:i.value.genre},null,8,["icon","detail"])]),e("div",We,[n(y,{icon:x(v),field:"Main Character/Team",detail:i.value.main_char},null,8,["icon","detail"]),n(y,{icon:x(v),field:"Writer",detail:i.value.writer},null,8,["icon","detail"])]),e("div",Oe,[n(y,{icon:x(v),field:"Artist",detail:i.value.artist},null,8,["icon","detail"]),n(y,{icon:x(v),field:"Editor",detail:i.value.editor},null,8,["icon","detail"])])])]),n(xe,{class:"absolute right-0 top-2 cursor-pointer w-7 h-7","fill-color":`rgb${f.value}`,onClick:t[1]||(t[1]=l=>I.value=!0)},null,8,["fill-color"]),n(Ve,{title:"Edit Series",onCloseModal:t[13]||(t[13]=l=>B()),onEsc:t[14]||(t[14]=l=>B()),onSubmitForm:t[15]||(t[15]=l=>P()),"modal-ref":I.value},{default:X(()=>[e("div",Je,[e("div",Qe,[d.value!="noimage"?(h(),g("img",{key:0,src:d.value,alt:"",class:"md:h-[45vh] md:w-[15vw] rounded-lg mt-2 mr-2 mb-6 border-2",style:c(`border-color: rgb${f.value}`),onError:t[2]||(t[2]=l=>d.value=T)},null,44,Xe)):R("",!0),e("input",{type:"text",onInput:Z,placeholder:"paste image link here",class:"input input-bordered",required:""},null,32)]),e("div",Ye,[e("div",et,[e("div",tt,[V(e("input",{type:"text",placeholder:"Series Name","onUpdate:modelValue":t[3]||(t[3]=l=>o.value.title=l),class:"input input-bordered",required:""},null,512),[[j,o.value.title]])]),e("div",lt,[V(e("select",{class:"select select-primary w-[16em]","onUpdate:modelValue":t[4]||(t[4]=l=>o.value.series_format=l),required:""},dt,512),[[le,o.value.series_format]])]),e("div",ct,[V(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=l=>o.value.books_count=l),placeholder:"Book Count",class:"input input-bordered",disabled:""},null,512),[[j,o.value.books_count,void 0,{number:!0}]])])]),e("div",ut,[e("div",mt,[n(w,{modelValue:o.value.publisher,"onUpdate:modelValue":t[6]||(t[6]=l=>o.value.publisher=l),field:"publisher",placeholder:"Publisher"},null,8,["modelValue"])]),e("div",vt,[n(w,{modelValue:o.value.genre,"onUpdate:modelValue":t[7]||(t[7]=l=>o.value.genre=l),field:"genre",placeholder:"Genre"},null,8,["modelValue"])]),e("div",ft,[n(w,{modelValue:o.value.main_char,"onUpdate:modelValue":t[8]||(t[8]=l=>o.value.main_char=l),field:"main_char",placeholder:"Main Character/Team"},null,8,["modelValue"])])]),e("div",ht,[e("div",_t,[n(w,{modelValue:o.value.writer,"onUpdate:modelValue":t[9]||(t[9]=l=>o.value.writer=l),field:"writer",placeholder:"Writer"},null,8,["modelValue"])]),e("div",pt,[n(w,{modelValue:o.value.artist,"onUpdate:modelValue":t[10]||(t[10]=l=>o.value.artist=l),field:"artist",placeholder:"Artist"},null,8,["modelValue"])]),e("div",gt,[n(w,{modelValue:o.value.editor,"onUpdate:modelValue":t[11]||(t[11]=l=>o.value.editor=l),field:"editor",placeholder:"Editor"},null,8,["modelValue"])])]),e("div",bt,[e("div",xt,[V(e("textarea",{class:"textarea textarea-bordered h-24",placeholder:"Summary","onUpdate:modelValue":t[12]||(t[12]=l=>o.value.summary=l)},null,512),[[j,o.value.summary]])])])])])]),_:1},8,["modal-ref"])])]),e("div",wt,[e("h1",{class:"flex pb-4 px-4 font-bold text-3xl",style:c(`color: rgb${f.value}`)}," Issues ",4),e("div",yt,[e("div",$t,[(h(!0),g(Y,null,ee(k.value,l=>(h(),oe(ne,{image:d.value,themecolor:f.value,title:l.title,have_whole:l.have_whole,read_whole:l.read_whole,onUpdateStatus:U=>q(l,U),key:l},null,8,["image","themecolor","title","have_whole","read_whole","onUpdateStatus"]))),128))])])])])])],4))}},kt=K(St,[["__scopeId","data-v-05ca05ce"]]);export{kt as default};
