import{S as qe}from"./SeriesService-Cc07SvbQ.js";import{o as D,c as q,a as k,aH as S,aD as E,b1 as gt,aQ as G,b2 as ze,b3 as xt,az as T,aG as Oe,b4 as yt,b5 as ie,b6 as K,aO as Y,b7 as Ye,b8 as ae,F as me,ay as Z,b9 as de,aF as wt,ba as J,bb as le,u as N,t as ue,W as U,bc as pe,l as j,j as Me,T as he,k as oe,aI as St,aJ as Ot,aw as Et,au as It}from"./index-DN0zppBt.js";function we(e,o){return D(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[k("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}function Ze(e,o){return D(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[k("path",{"fill-rule":"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z","clip-rule":"evenodd"})])}function se(e,o,t){let n=t.initialDeps??[],l;return()=>{var a,r,i,d;let u;t.key&&((a=t.debug)!=null&&a.call(t))&&(u=Date.now());const s=e();if(!(s.length!==n.length||s.some((g,m)=>n[m]!==g)))return l;n=s;let b;if(t.key&&((r=t.debug)!=null&&r.call(t))&&(b=Date.now()),l=o(...s),t.key&&((i=t.debug)!=null&&i.call(t))){const g=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-b)*100)/100,x=m/16,R=(L,y)=>{for(L=String(L);L.length<y;)L=" "+L;return L};console.info(`%câ± ${R(m,5)} /${R(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(d=t==null?void 0:t.onChange)==null||d.call(t,l),l}}function Ce(e,o){if(e===void 0)throw new Error("Unexpected undefined");return e}const Ct=(e,o)=>Math.abs(e-o)<1,Tt=(e,o,t)=>{let n;return function(...l){e.clearTimeout(n),n=e.setTimeout(()=>o.apply(this,l),t)}},Rt=e=>e,Mt=e=>{const o=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let l=o;l<=t;l++)n.push(l);return n},$t=(e,o)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;const l=r=>{const{width:i,height:d}=r;o({width:Math.round(i),height:Math.round(d)})};if(l(t.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const a=new n.ResizeObserver(r=>{const i=r[0];if(i!=null&&i.borderBoxSize){const d=i.borderBoxSize[0];if(d){l({width:d.inlineSize,height:d.blockSize});return}}l(t.getBoundingClientRect())});return a.observe(t,{box:"border-box"}),()=>{a.unobserve(t)}},Ve={passive:!0},Pt=typeof window>"u"?!0:"onscrollend"in window,At=(e,o)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;let l=0;const a=e.options.useScrollendEvent&&Pt?()=>{}:Tt(n,()=>{o(l,!1)},e.options.isScrollingResetDelay),r=u=>()=>{const{horizontal:s,isRtl:f}=e.options;l=s?t.scrollLeft*(f&&-1||1):t.scrollTop,a(),o(l,u)},i=r(!0),d=r(!1);return d(),t.addEventListener("scroll",i,Ve),t.addEventListener("scrollend",d,Ve),()=>{t.removeEventListener("scroll",i),t.removeEventListener("scrollend",d)}},Ft=(e,o,t)=>{if(o!=null&&o.borderBoxSize){const n=o.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},kt=(e,{adjustments:o=0,behavior:t},n)=>{var l,a;const r=e+o;(a=(l=n.scrollElement)==null?void 0:l.scrollTo)==null||a.call(l,{[n.options.horizontal?"left":"top"]:r,behavior:t})};class Lt{constructor(o){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(l=>{l.forEach(a=>{this._measureElement(a.target,a)})}));return{disconnect:()=>{var l;(l=n())==null||l.disconnect(),t=null},observe:l=>{var a;return(a=n())==null?void 0:a.observe(l,{box:"border-box"})},unobserve:l=>{var a;return(a=n())==null?void 0:a.unobserve(l)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,l])=>{typeof l>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Rt,rangeExtractor:Mt,onChange:()=>{},measureElement:Ft,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...t}},this.notify=t=>{var n,l;(l=(n=this.options).onChange)==null||l.call(n,this,t)},this.maybeNotify=se(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(l=>{this.observer.observe(l)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(l,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<l?"forward":"backward":null,this.scrollOffset=l,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,n)=>{const l=new Map,a=new Map;for(let r=n-1;r>=0;r--){const i=t[r];if(l.has(i.lane))continue;const d=a.get(i.lane);if(d==null||i.end>d.end?a.set(i.lane,i):i.end<d.end&&l.set(i.lane,!0),l.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((r,i)=>r.end===i.end?r.index-i.index:r.end-i.end)[0]:void 0},this.getMeasurementOptions=se(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,n,l,a,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:l,getItemKey:a,enabled:r}),{key:!1}),this.getMeasurements=se(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:l,getItemKey:a,enabled:r},i)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(s=>{this.itemSizeCache.set(s.key,s.size)}));const d=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,d);for(let s=d;s<t;s++){const f=a(s),b=this.options.lanes===1?u[s-1]:this.getFurthestMeasurement(u,s),g=b?b.end+this.options.gap:n+l,m=i.get(f),x=typeof m=="number"?m:this.options.estimateSize(s),R=g+x,L=b?b.lane:s%this.options.lanes;u[s]={index:s,start:g,size:x,end:R,key:f,lane:L}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=se(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,n,l)=>this.range=t.length>0&&n>0?Dt({measurements:t,outerSize:n,scrollOffset:l}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=se(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,l,a)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:l,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,l=t.getAttribute(n);return l?parseInt(l,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const l=this.indexFromElement(t),a=this.measurementsCache[l];if(!a)return;const r=a.key,i=this.elementsCache.get(r);i!==t&&(i&&this.observer.unobserve(i),this.observer.observe(t),this.elementsCache.set(r,t)),t.isConnected&&this.resizeItem(l,this.options.measureElement(t,n,this))},this.resizeItem=(t,n)=>{const l=this.measurementsCache[t];if(!l)return;const a=this.itemSizeCache.get(l.key)??l.size,r=n-a;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(l,r,this):l.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(l.index),this.itemSizeCache=new Map(this.itemSizeCache.set(l.key,n)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((n,l)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(l))});return}this._measureElement(t,void 0)},this.getVirtualItems=se(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const l=[];for(let a=0,r=t.length;a<r;a++){const i=t[a],d=n[i];l.push(d)}return l},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();if(n.length!==0)return Ce(n[Ge(0,n.length-1,l=>Ce(n[l]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const l=this.getSize(),a=this.getScrollOffset();n==="auto"&&t>=a+l&&(n="end"),n==="end"&&(t-=l);const r=this.options.horizontal?"scrollWidth":"scrollHeight",d=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-l;return Math.max(Math.min(d,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const l=this.measurementsCache[t];if(!l)return;const a=this.getSize(),r=this.getScrollOffset();if(n==="auto")if(l.end>=r+a-this.options.scrollPaddingEnd)n="end";else if(l.start<=r+this.options.scrollPaddingStart)n="start";else return[r,n];const i=l.start-this.options.scrollPaddingStart+(l.size-a)/2;switch(n){case"center":return[this.getOffsetForAlignment(i,n),n];case"end":return[this.getOffsetForAlignment(l.end+this.options.scrollPaddingEnd,n),n];default:return[this.getOffsetForAlignment(l.start-this.options.scrollPaddingStart,n),n]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:l}={})=>{this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:l})},this.scrollToIndex=(t,{align:n="auto",behavior:l}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const a=this.getOffsetForIndex(t,n);if(!a)return;const[r,i]=a;this._scrollToOffset(r,{adjustments:void 0,behavior:l}),l!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[u]=Ce(this.getOffsetForIndex(t,i));Ct(u,this.getScrollOffset())||this.scrollToIndex(t,{align:i,behavior:l})}else this.scrollToIndex(t,{align:i,behavior:l})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let l;return n.length===0?l=this.options.paddingStart:l=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(a=>a.end)),Math.max(l-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:n,behavior:l})=>{this.options.scrollToFn(t,{behavior:l,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(o)}}const Ge=(e,o,t,n)=>{for(;e<=o;){const l=(e+o)/2|0,a=t(l);if(a<n)e=l+1;else if(a>n)o=l-1;else return l}return e>0?e-1:0};function Dt({measurements:e,outerSize:o,scrollOffset:t}){const n=e.length-1,a=Ge(0,n,i=>e[i].start,t);let r=a;for(;r<n&&e[r].end<t+o;)r++;return{startIndex:a,endIndex:r}}function _t(e){const o=new Lt(E(e)),t=gt(o),n=o._didMount();return G(()=>E(e).getScrollElement(),l=>{l&&o._willUpdate()},{immediate:!0}),G(()=>E(e),l=>{o.setOptions({...l,onChange:(a,r)=>{var i;ze(t),(i=l.onChange)==null||i.call(l,a,r)}}),o._willUpdate(),ze(t)},{immediate:!0}),xt(n),t}function zt(e){return _t(S(()=>({observeElementRect:$t,observeElementOffset:At,scrollToFn:kt,...E(e)})))}function Vt(e,o,t){let n=T(t==null?void 0:t.value),l=S(()=>e.value!==void 0);return[S(()=>l.value?e.value:n.value),function(a){return l.value||(n.value=a),o==null?void 0:o(a)}]}function jt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}function ce(){let e=[],o={addEventListener(t,n,l,a){return t.addEventListener(n,l,a),o.add(()=>t.removeEventListener(n,l,a))},requestAnimationFrame(...t){let n=requestAnimationFrame(...t);o.add(()=>cancelAnimationFrame(n))},nextFrame(...t){o.requestAnimationFrame(()=>{o.requestAnimationFrame(...t)})},setTimeout(...t){let n=setTimeout(...t);o.add(()=>clearTimeout(n))},microTask(...t){let n={current:!0};return jt(()=>{n.current&&t[0]()}),o.add(()=>{n.current=!1})},style(t,n,l){let a=t.style.getPropertyValue(n);return Object.assign(t.style,{[n]:l}),this.add(()=>{Object.assign(t.style,{[n]:a})})},group(t){let n=ce();return t(n),this.add(()=>n.dispose())},add(t){return e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let l of e.splice(n,1))l()}},dispose(){for(let t of e.splice(0))t()}};return o}function Bt(){let e=ce();return Oe(()=>e.dispose()),e}function Nt(){let e=Bt();return o=>{e.dispose(),e.nextFrame(o)}}var je;let Ht=Symbol("headlessui.useid"),Ut=0;const be=(je=yt)!=null?je:function(){return ie(Ht,()=>`${++Ut}`)()};function I(e){var o;if(e==null||e.value==null)return null;let t=(o=e.value.$el)!=null?o:e.value;return t instanceof Node?t:null}function W(e,o,...t){if(e in o){let l=o[e];return typeof l=="function"?l(...t):l}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(o).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,W),n}var Wt=Object.defineProperty,Kt=(e,o,t)=>o in e?Wt(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,Be=(e,o,t)=>(Kt(e,typeof o!="symbol"?o+"":o,t),t);let qt=class{constructor(){Be(this,"current",this.detect()),Be(this,"currentId",0)}set(o){this.current!==o&&(this.currentId=0,this.current=o)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Ee=new qt;function Pe(e){if(Ee.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let o=I(e);if(o)return o.ownerDocument}return document}let Ne=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Yt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Yt||{}),Zt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Zt||{}),Gt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Gt||{}),Je=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Je||{});function Jt(e,o=0){var t;return e===((t=Pe(e))==null?void 0:t.body)?!1:W(o,{0(){return e.matches(Ne)},1(){let n=e;for(;n!==null;){if(n.matches(Ne))return!0;n=n.parentElement}return!1}})}var Qt=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Qt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Xt(e,o=t=>t){return e.slice().sort((t,n)=>{let l=o(t),a=o(n);if(l===null||a===null)return 0;let r=l.compareDocumentPosition(a);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function el(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function tl(){return/Android/gi.test(window.navigator.userAgent)}function Qe(){return el()||tl()}function xe(e,o,t){Ee.isServer||K(n=>{document.addEventListener(e,o,t),n(()=>document.removeEventListener(e,o,t))})}function ll(e,o,t){Ee.isServer||K(n=>{window.addEventListener(e,o,t),n(()=>window.removeEventListener(e,o,t))})}function nl(e,o,t=S(()=>!0)){function n(a,r){if(!t.value||a.defaultPrevented)return;let i=r(a);if(i===null||!i.getRootNode().contains(i))return;let d=function u(s){return typeof s=="function"?u(s()):Array.isArray(s)||s instanceof Set?s:[s]}(e);for(let u of d){if(u===null)continue;let s=u instanceof HTMLElement?u:I(u);if(s!=null&&s.contains(i)||a.composed&&a.composedPath().includes(s))return}return!Jt(i,Je.Loose)&&i.tabIndex!==-1&&a.preventDefault(),o(a,i)}let l=T(null);xe("pointerdown",a=>{var r,i;t.value&&(l.value=((i=(r=a.composedPath)==null?void 0:r.call(a))==null?void 0:i[0])||a.target)},!0),xe("mousedown",a=>{var r,i;t.value&&(l.value=((i=(r=a.composedPath)==null?void 0:r.call(a))==null?void 0:i[0])||a.target)},!0),xe("click",a=>{Qe()||l.value&&(n(a,()=>l.value),l.value=null)},!0),xe("touchend",a=>n(a,()=>a.target instanceof HTMLElement?a.target:null),!0),ll("blur",a=>n(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function He(e,o){if(e)return e;let t=o??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function ol(e,o){let t=T(He(e.value.type,e.value.as));return Y(()=>{t.value=He(e.value.type,e.value.as)}),K(()=>{var n;t.value||I(o)&&I(o)instanceof HTMLButtonElement&&!((n=I(o))!=null&&n.hasAttribute("type"))&&(t.value="button")}),t}function Ue(e){return[e.screenX,e.screenY]}function al(){let e=T([-1,-1]);return{wasMoved(o){let t=Ue(o);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(o){e.value=Ue(o)}}}function il({container:e,accept:o,walk:t,enabled:n}){K(()=>{let l=e.value;if(!l||n!==void 0&&!n.value)return;let a=Pe(e);if(!a)return;let r=Object.assign(d=>o(d),{acceptNode:o}),i=a.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,r,!1);for(;i.nextNode();)t(i.currentNode)})}var fe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(fe||{}),Q=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Q||{});function X({visible:e=!0,features:o=0,ourProps:t,theirProps:n,...l}){var a;let r=et(n,t),i=Object.assign(l,{props:r});if(e||o&2&&r.static)return Te(i);if(o&1){let d=(a=r.unmount)==null||a?0:1;return W(d,{0(){return null},1(){return Te({...l,props:{...r,hidden:!0,style:{display:"none"}}})}})}return Te(i)}function Te({props:e,attrs:o,slots:t,slot:n,name:l}){var a,r;let{as:i,...d}=ge(e,["unmount","static"]),u=(a=t.default)==null?void 0:a.call(t,n),s={};if(n){let f=!1,b=[];for(let[g,m]of Object.entries(n))typeof m=="boolean"&&(f=!0),m===!0&&b.push(g);f&&(s["data-headlessui-state"]=b.join(" "))}if(i==="template"){if(u=Xe(u??[]),Object.keys(d).length>0||Object.keys(o).length>0){let[f,...b]=u??[];if(!sl(f)||b.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${l} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(o)).map(x=>x.trim()).filter((x,R,L)=>L.indexOf(x)===R).sort((x,R)=>x.localeCompare(R)).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let g=et((r=f.props)!=null?r:{},d,s),m=Ye(f,g,!0);for(let x in g)x.startsWith("on")&&(m.props||(m.props={}),m.props[x]=g[x]);return m}return Array.isArray(u)&&u.length===1?u[0]:u}return ae(i,Object.assign({},d,s),{default:()=>u})}function Xe(e){return e.flatMap(o=>o.type===me?Xe(o.children):[o])}function et(...e){if(e.length===0)return{};if(e.length===1)return e[0];let o={},t={};for(let n of e)for(let l in n)l.startsWith("on")&&typeof n[l]=="function"?(t[l]!=null||(t[l]=[]),t[l].push(n[l])):o[l]=n[l];if(o.disabled||o["aria-disabled"])return Object.assign(o,Object.fromEntries(Object.keys(t).map(n=>[n,void 0])));for(let n in t)Object.assign(o,{[n](l,...a){let r=t[n];for(let i of r){if(l instanceof Event&&l.defaultPrevented)return;i(l,...a)}}});return o}function rl(e){let o=Object.assign({},e);for(let t in o)o[t]===void 0&&delete o[t];return o}function ge(e,o=[]){let t=Object.assign({},e);for(let n of o)n in t&&delete t[n];return t}function sl(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var tt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(tt||{});let ul=Z({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:o,attrs:t}){return()=>{var n;let{features:l,...a}=e,r={"aria-hidden":(l&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(l&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(l&4)===4&&(l&2)!==2&&{display:"none"}}};return X({ourProps:r,theirProps:a,slot:{},attrs:t,slots:o,name:"Hidden"})}}}),lt=Symbol("Context");var H=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(H||{});function dl(){return Ae()!==null}function Ae(){return ie(lt,null)}function nt(e){de(lt,e)}var B=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(B||{}),ot=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(ot||{});function cl(e){function o(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",o))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",o),o())}let ne=[];cl(()=>{function e(o){o.target instanceof HTMLElement&&o.target!==document.body&&ne[0]!==o.target&&(ne.unshift(o.target),ne=ne.filter(t=>t!=null&&t.isConnected),ne.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function fl(e){throw new Error("Unexpected object: "+e)}var _=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(_||{});function We(e,o){let t=o.resolveItems();if(t.length<=0)return null;let n=o.resolveActiveIndex(),l=n??-1;switch(e.focus){case 0:{for(let a=0;a<t.length;++a)if(!o.resolveDisabled(t[a],a,t))return a;return n}case 1:{l===-1&&(l=t.length);for(let a=l-1;a>=0;--a)if(!o.resolveDisabled(t[a],a,t))return a;return n}case 2:{for(let a=l+1;a<t.length;++a)if(!o.resolveDisabled(t[a],a,t))return a;return n}case 3:{for(let a=t.length-1;a>=0;--a)if(!o.resolveDisabled(t[a],a,t))return a;return n}case 4:{for(let a=0;a<t.length;++a)if(o.resolveId(t[a],a,t)===e.id)return a;return n}case 5:return null;default:fl(e)}}function at(e={},o=null,t=[]){for(let[n,l]of Object.entries(e))rt(t,it(o,n),l);return t}function it(e,o){return e?e+"["+o+"]":o}function rt(e,o,t){if(Array.isArray(t))for(let[n,l]of t.entries())rt(e,it(o,n.toString()),l);else t instanceof Date?e.push([o,t.toISOString()]):typeof t=="boolean"?e.push([o,t?"1":"0"]):typeof t=="string"?e.push([o,t]):typeof t=="number"?e.push([o,`${t}`]):t==null?e.push([o,""]):at(t,o,e)}var vl={};function pl(e,o){return e===o}var hl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hl||{}),ml=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ml||{}),bl=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(bl||{});let st=Symbol("ComboboxContext");function ve(e){let o=ie(st,null);if(o===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ve),t}return o}let ut=Symbol("VirtualContext"),gl=Z({name:"VirtualProvider",setup(e,{slots:o}){let t=ve("VirtualProvider"),n=S(()=>{let i=I(t.optionsRef);if(!i)return{start:0,end:0};let d=window.getComputedStyle(i);return{start:parseFloat(d.paddingBlockStart||d.paddingTop),end:parseFloat(d.paddingBlockEnd||d.paddingBottom)}}),l=zt(S(()=>({scrollPaddingStart:n.value.start,scrollPaddingEnd:n.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return I(t.optionsRef)},overscan:12}))),a=S(()=>{var i;return(i=t.virtual.value)==null?void 0:i.options}),r=T(0);return G([a],()=>{r.value+=1}),de(ut,t.virtual.value?l:null),()=>[ae("div",{style:{position:"relative",width:"100%",height:`${l.value.getTotalSize()}px`},ref:i=>{if(i){if(typeof process<"u"&&vl.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&l.value.scrollToIndex(t.activeOptionIndex.value)}}},l.value.getVirtualItems().map(i=>Ye(o.default({option:t.virtual.value.options[i.index],open:t.comboboxState.value===0})[0],{key:`${r.value}-${i.index}`,"data-index":i.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":i.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${i.start}px)`,overflowAnchor:"none"}})))]}}),dt=Z({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:o,attrs:t,emit:n}){let l=T(1),a=T(null),r=T(null),i=T(null),d=T(null),u=T({static:!1,hold:!1}),s=T([]),f=T(null),b=T(2),g=T(!1);function m(c=p=>p){let p=f.value!==null?s.value[f.value]:null,O=c(s.value.slice()),w=O.length>0&&O[0].dataRef.order.value!==null?O.sort((C,z)=>C.dataRef.order.value-z.dataRef.order.value):Xt(O,C=>I(C.dataRef.domRef)),A=p?w.indexOf(p):null;return A===-1&&(A=null),{options:w,activeOptionIndex:A}}let x=S(()=>e.multiple?1:0),R=S(()=>e.nullable),[L,y]=Vt(S(()=>e.modelValue),c=>n("update:modelValue",c),S(()=>e.defaultValue)),M=S(()=>L.value===void 0?W(x.value,{1:[],0:void 0}):L.value),V=null,h=null;function $(c){return W(x.value,{0(){return y==null?void 0:y(c)},1:()=>{let p=J(v.value.value).slice(),O=J(c),w=p.findIndex(A=>v.compare(O,J(A)));return w===-1?p.push(O):p.splice(w,1),y==null?void 0:y(p)}})}let F=S(()=>{});G([F],([c],[p])=>{if(v.virtual.value&&c&&p&&f.value!==null){let O=c.indexOf(p[f.value]);O!==-1?f.value=O:f.value=null}});let v={comboboxState:l,value:M,mode:x,compare(c,p){if(typeof e.by=="string"){let O=e.by;return(c==null?void 0:c[O])===(p==null?void 0:p[O])}return e.by===null?pl(c,p):e.by(c,p)},calculateIndex(c){return v.virtual.value?e.by===null?v.virtual.value.options.indexOf(c):v.virtual.value.options.findIndex(p=>v.compare(p,c)):s.value.findIndex(p=>v.compare(p.dataRef.value,c))},defaultValue:S(()=>e.defaultValue),nullable:R,immediate:S(()=>!1),virtual:S(()=>null),inputRef:r,labelRef:a,buttonRef:i,optionsRef:d,disabled:S(()=>e.disabled),options:s,change(c){y(c)},activeOptionIndex:S(()=>{if(g.value&&f.value===null&&(v.virtual.value?v.virtual.value.options.length>0:s.value.length>0)){if(v.virtual.value){let p=v.virtual.value.options.findIndex(O=>{var w;return!((w=v.virtual.value)!=null&&w.disabled(O))});if(p!==-1)return p}let c=s.value.findIndex(p=>!p.dataRef.disabled);if(c!==-1)return c}return f.value}),activationTrigger:b,optionsPropsRef:u,closeCombobox(){g.value=!1,!e.disabled&&l.value!==1&&(l.value=1,f.value=null)},openCombobox(){if(g.value=!0,!e.disabled&&l.value!==0){if(v.value.value){let c=v.calculateIndex(v.value.value);c!==-1&&(f.value=c)}l.value=0}},setActivationTrigger(c){b.value=c},goToOption(c,p,O){g.value=!1,V!==null&&cancelAnimationFrame(V),V=requestAnimationFrame(()=>{if(e.disabled||d.value&&!u.value.static&&l.value===1)return;if(v.virtual.value){f.value=c===_.Specific?p:We({focus:c},{resolveItems:()=>v.virtual.value.options,resolveActiveIndex:()=>{var C,z;return(z=(C=v.activeOptionIndex.value)!=null?C:v.virtual.value.options.findIndex(ee=>{var re;return!((re=v.virtual.value)!=null&&re.disabled(ee))}))!=null?z:null},resolveDisabled:C=>v.virtual.value.disabled(C),resolveId(){throw new Error("Function not implemented.")}}),b.value=O??2;return}let w=m();if(w.activeOptionIndex===null){let C=w.options.findIndex(z=>!z.dataRef.disabled);C!==-1&&(w.activeOptionIndex=C)}let A=c===_.Specific?p:We({focus:c},{resolveItems:()=>w.options,resolveActiveIndex:()=>w.activeOptionIndex,resolveId:C=>C.id,resolveDisabled:C=>C.dataRef.disabled});f.value=A,b.value=O??2,s.value=w.options})},selectOption(c){let p=s.value.find(w=>w.id===c);if(!p)return;let{dataRef:O}=p;$(O.value)},selectActiveOption(){if(v.activeOptionIndex.value!==null){if(v.virtual.value)$(v.virtual.value.options[v.activeOptionIndex.value]);else{let{dataRef:c}=s.value[v.activeOptionIndex.value];$(c.value)}v.goToOption(_.Specific,v.activeOptionIndex.value)}},registerOption(c,p){let O=wt({id:c,dataRef:p});if(v.virtual.value){s.value.push(O);return}h&&cancelAnimationFrame(h);let w=m(A=>(A.push(O),A));f.value===null&&v.isSelected(p.value.value)&&(w.activeOptionIndex=w.options.indexOf(O)),s.value=w.options,f.value=w.activeOptionIndex,b.value=2,w.options.some(A=>!I(A.dataRef.domRef))&&(h=requestAnimationFrame(()=>{let A=m();s.value=A.options,f.value=A.activeOptionIndex}))},unregisterOption(c,p){if(V!==null&&cancelAnimationFrame(V),p&&(g.value=!0),v.virtual.value){s.value=s.value.filter(w=>w.id!==c);return}let O=m(w=>{let A=w.findIndex(C=>C.id===c);return A!==-1&&w.splice(A,1),w});s.value=O.options,f.value=O.activeOptionIndex,b.value=2},isSelected(c){return W(x.value,{0:()=>v.compare(J(v.value.value),J(c)),1:()=>J(v.value.value).some(p=>v.compare(J(p),J(c)))})},isActive(c){return f.value===v.calculateIndex(c)}};nl([r,i,d],()=>v.closeCombobox(),S(()=>l.value===0)),de(st,v),nt(S(()=>W(l.value,{0:H.Open,1:H.Closed})));let P=S(()=>{var c;return(c=I(r))==null?void 0:c.closest("form")});return Y(()=>{G([P],()=>{if(!P.value||e.defaultValue===void 0)return;function c(){v.change(e.defaultValue)}return P.value.addEventListener("reset",c),()=>{var p;(p=P.value)==null||p.removeEventListener("reset",c)}},{immediate:!0})}),()=>{var c,p,O;let{name:w,disabled:A,form:C,...z}=e,ee={open:l.value===0,disabled:A,activeIndex:v.activeOptionIndex.value,activeOption:v.activeOptionIndex.value===null?null:v.virtual.value?v.virtual.value.options[(c=v.activeOptionIndex.value)!=null?c:0]:(O=(p=v.options.value[v.activeOptionIndex.value])==null?void 0:p.dataRef.value)!=null?O:null,value:M.value};return ae(me,[...w!=null&&M.value!=null?at({[w]:M.value}).map(([re,De])=>ae(ul,rl({features:tt.Hidden,key:re,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:C,disabled:A,name:re,value:De}))):[],X({theirProps:{...t,...ge(z,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:ee,slots:o,attrs:t,name:"Combobox"})])}}}),ct=Z({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:o,slots:t,expose:n}){var l;let a=(l=e.id)!=null?l:`headlessui-combobox-button-${be()}`,r=ve("ComboboxButton");n({el:r.buttonRef,$el:r.buttonRef});function i(s){r.disabled.value||(r.comboboxState.value===0?r.closeCombobox():(s.preventDefault(),r.openCombobox()),le(()=>{var f;return(f=I(r.inputRef))==null?void 0:f.focus({preventScroll:!0})}))}function d(s){switch(s.key){case B.ArrowDown:s.preventDefault(),s.stopPropagation(),r.comboboxState.value===1&&r.openCombobox(),le(()=>{var f;return(f=r.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return;case B.ArrowUp:s.preventDefault(),s.stopPropagation(),r.comboboxState.value===1&&(r.openCombobox(),le(()=>{r.value.value||r.goToOption(_.Last)})),le(()=>{var f;return(f=r.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return;case B.Escape:if(r.comboboxState.value!==0)return;s.preventDefault(),r.optionsRef.value&&!r.optionsPropsRef.value.static&&s.stopPropagation(),r.closeCombobox(),le(()=>{var f;return(f=r.inputRef.value)==null?void 0:f.focus({preventScroll:!0})});return}}let u=ol(S(()=>({as:e.as,type:o.type})),r.buttonRef);return()=>{var s,f;let b={open:r.comboboxState.value===0,disabled:r.disabled.value,value:r.value.value},{...g}=e,m={ref:r.buttonRef,id:a,type:u.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(s=I(r.optionsRef))==null?void 0:s.id,"aria-expanded":r.comboboxState.value===0,"aria-labelledby":r.labelRef.value?[(f=I(r.labelRef))==null?void 0:f.id,a].join(" "):void 0,disabled:r.disabled.value===!0?!0:void 0,onKeydown:d,onClick:i};return X({ourProps:m,theirProps:g,slot:b,attrs:o,slots:t,name:"ComboboxButton"})}}}),ft=Z({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:o,attrs:t,slots:n,expose:l}){var a;let r=(a=e.id)!=null?a:`headlessui-combobox-input-${be()}`,i=ve("ComboboxInput"),d=S(()=>Pe(I(i.inputRef))),u={value:!1};l({el:i.inputRef,$el:i.inputRef});function s(){i.change(null);let h=I(i.optionsRef);h&&(h.scrollTop=0),i.goToOption(_.Nothing)}let f=S(()=>{var h;let $=i.value.value;return I(i.inputRef)?typeof e.displayValue<"u"&&$!==void 0?(h=e.displayValue($))!=null?h:"":typeof $=="string"?$:"":""});Y(()=>{G([f,i.comboboxState,d],([h,$],[F,v])=>{if(u.value)return;let P=I(i.inputRef);P&&((v===0&&$===1||h!==F)&&(P.value=h),requestAnimationFrame(()=>{var c;if(u.value||!P||((c=d.value)==null?void 0:c.activeElement)!==P)return;let{selectionStart:p,selectionEnd:O}=P;Math.abs((O??0)-(p??0))===0&&p===0&&P.setSelectionRange(P.value.length,P.value.length)}))},{immediate:!0}),G([i.comboboxState],([h],[$])=>{if(h===0&&$===1){if(u.value)return;let F=I(i.inputRef);if(!F)return;let v=F.value,{selectionStart:P,selectionEnd:c,selectionDirection:p}=F;F.value="",F.value=v,p!==null?F.setSelectionRange(P,c,p):F.setSelectionRange(P,c)}})});let b=T(!1);function g(){b.value=!0}function m(){ce().nextFrame(()=>{b.value=!1})}let x=Nt();function R(h){switch(u.value=!0,x(()=>{u.value=!1}),h.key){case B.Enter:if(u.value=!1,i.comboboxState.value!==0||b.value)return;if(h.preventDefault(),h.stopPropagation(),i.activeOptionIndex.value===null){i.closeCombobox();return}i.selectActiveOption(),i.mode.value===0&&i.closeCombobox();break;case B.ArrowDown:return u.value=!1,h.preventDefault(),h.stopPropagation(),W(i.comboboxState.value,{0:()=>i.goToOption(_.Next),1:()=>i.openCombobox()});case B.ArrowUp:return u.value=!1,h.preventDefault(),h.stopPropagation(),W(i.comboboxState.value,{0:()=>i.goToOption(_.Previous),1:()=>{i.openCombobox(),le(()=>{i.value.value||i.goToOption(_.Last)})}});case B.Home:if(h.shiftKey)break;return u.value=!1,h.preventDefault(),h.stopPropagation(),i.goToOption(_.First);case B.PageUp:return u.value=!1,h.preventDefault(),h.stopPropagation(),i.goToOption(_.First);case B.End:if(h.shiftKey)break;return u.value=!1,h.preventDefault(),h.stopPropagation(),i.goToOption(_.Last);case B.PageDown:return u.value=!1,h.preventDefault(),h.stopPropagation(),i.goToOption(_.Last);case B.Escape:if(u.value=!1,i.comboboxState.value!==0)return;h.preventDefault(),i.optionsRef.value&&!i.optionsPropsRef.value.static&&h.stopPropagation(),i.nullable.value&&i.mode.value===0&&i.value.value===null&&s(),i.closeCombobox();break;case B.Tab:if(u.value=!1,i.comboboxState.value!==0)return;i.mode.value===0&&i.activationTrigger.value!==1&&i.selectActiveOption(),i.closeCombobox();break}}function L(h){o("change",h),i.nullable.value&&i.mode.value===0&&h.target.value===""&&s(),i.openCombobox()}function y(h){var $,F,v;let P=($=h.relatedTarget)!=null?$:ne.find(c=>c!==h.currentTarget);if(u.value=!1,!((F=I(i.optionsRef))!=null&&F.contains(P))&&!((v=I(i.buttonRef))!=null&&v.contains(P))&&i.comboboxState.value===0)return h.preventDefault(),i.mode.value===0&&(i.nullable.value&&i.value.value===null?s():i.activationTrigger.value!==1&&i.selectActiveOption()),i.closeCombobox()}function M(h){var $,F,v;let P=($=h.relatedTarget)!=null?$:ne.find(c=>c!==h.currentTarget);(F=I(i.buttonRef))!=null&&F.contains(P)||(v=I(i.optionsRef))!=null&&v.contains(P)||i.disabled.value||i.immediate.value&&i.comboboxState.value!==0&&(i.openCombobox(),ce().nextFrame(()=>{i.setActivationTrigger(1)}))}let V=S(()=>{var h,$,F,v;return(v=(F=($=e.defaultValue)!=null?$:i.defaultValue.value!==void 0?(h=e.displayValue)==null?void 0:h.call(e,i.defaultValue.value):null)!=null?F:i.defaultValue.value)!=null?v:""});return()=>{var h,$,F,v,P,c,p;let O={open:i.comboboxState.value===0},{displayValue:w,onChange:A,...C}=e,z={"aria-controls":(h=i.optionsRef.value)==null?void 0:h.id,"aria-expanded":i.comboboxState.value===0,"aria-activedescendant":i.activeOptionIndex.value===null?void 0:i.virtual.value?($=i.options.value.find(ee=>!i.virtual.value.disabled(ee.dataRef.value)&&i.compare(ee.dataRef.value,i.virtual.value.options[i.activeOptionIndex.value])))==null?void 0:$.id:(F=i.options.value[i.activeOptionIndex.value])==null?void 0:F.id,"aria-labelledby":(c=(v=I(i.labelRef))==null?void 0:v.id)!=null?c:(P=I(i.buttonRef))==null?void 0:P.id,"aria-autocomplete":"list",id:r,onCompositionstart:g,onCompositionend:m,onKeydown:R,onInput:L,onFocus:M,onBlur:y,role:"combobox",type:(p=t.type)!=null?p:"text",tabIndex:0,ref:i.inputRef,defaultValue:V.value,disabled:i.disabled.value===!0?!0:void 0};return X({ourProps:z,theirProps:C,slot:O,attrs:t,slots:n,features:fe.RenderStrategy|fe.Static,name:"ComboboxInput"})}}}),vt=Z({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:o,slots:t,expose:n}){let l=ve("ComboboxOptions"),a=`headlessui-combobox-options-${be()}`;n({el:l.optionsRef,$el:l.optionsRef}),K(()=>{l.optionsPropsRef.value.static=e.static}),K(()=>{l.optionsPropsRef.value.hold=e.hold});let r=Ae(),i=S(()=>r!==null?(r.value&H.Open)===H.Open:l.comboboxState.value===0);il({container:S(()=>I(l.optionsRef)),enabled:S(()=>l.comboboxState.value===0),accept(u){return u.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});function d(u){u.preventDefault()}return()=>{var u,s,f;let b={open:l.comboboxState.value===0},g={"aria-labelledby":(f=(u=I(l.labelRef))==null?void 0:u.id)!=null?f:(s=I(l.buttonRef))==null?void 0:s.id,id:a,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0,onMousedown:d},m=ge(e,["hold"]);return X({ourProps:g,theirProps:m,slot:b,attrs:o,slots:l.virtual.value&&l.comboboxState.value===0?{...t,default:()=>[ae(gl,{},t.default)]}:t,features:fe.RenderStrategy|fe.Static,visible:i.value,name:"ComboboxOptions"})}}}),Se=Z({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:o,attrs:t,expose:n}){let l=ve("ComboboxOption"),a=`headlessui-combobox-option-${be()}`,r=T(null),i=S(()=>e.disabled);n({el:r,$el:r});let d=S(()=>{var y;return l.virtual.value?l.activeOptionIndex.value===l.calculateIndex(e.value):l.activeOptionIndex.value===null?!1:((y=l.options.value[l.activeOptionIndex.value])==null?void 0:y.id)===a}),u=S(()=>l.isSelected(e.value)),s=ie(ut,null),f=S(()=>({disabled:e.disabled,value:e.value,domRef:r,order:S(()=>e.order)}));Y(()=>l.registerOption(a,f)),Oe(()=>l.unregisterOption(a,d.value)),K(()=>{let y=I(r);y&&(s==null||s.value.measureElement(y))}),K(()=>{l.comboboxState.value===0&&d.value&&(l.virtual.value||l.activationTrigger.value!==0&&le(()=>{var y,M;return(M=(y=I(r))==null?void 0:y.scrollIntoView)==null?void 0:M.call(y,{block:"nearest"})}))});function b(y){y.preventDefault(),y.button===ot.Left&&(i.value||(l.selectOption(a),Qe()||requestAnimationFrame(()=>{var M;return(M=I(l.inputRef))==null?void 0:M.focus({preventScroll:!0})}),l.mode.value===0&&l.closeCombobox()))}function g(){var y;if(e.disabled||(y=l.virtual.value)!=null&&y.disabled(e.value))return l.goToOption(_.Nothing);let M=l.calculateIndex(e.value);l.goToOption(_.Specific,M)}let m=al();function x(y){m.update(y)}function R(y){var M;if(!m.wasMoved(y)||e.disabled||(M=l.virtual.value)!=null&&M.disabled(e.value)||d.value)return;let V=l.calculateIndex(e.value);l.goToOption(_.Specific,V,0)}function L(y){var M;m.wasMoved(y)&&(e.disabled||(M=l.virtual.value)!=null&&M.disabled(e.value)||d.value&&(l.optionsPropsRef.value.hold||l.goToOption(_.Nothing)))}return()=>{let{disabled:y}=e,M={active:d.value,selected:u.value,disabled:y},V={id:a,ref:r,role:"option",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,"aria-selected":u.value,disabled:void 0,onMousedown:b,onFocus:g,onPointerenter:x,onMouseenter:x,onPointermove:R,onMousemove:R,onPointerleave:L,onMouseleave:L},h=ge(e,["order","value"]);return X({ourProps:V,theirProps:h,slot:M,attrs:t,slots:o,name:"ComboboxOption"})}}});function xl(e){let o={called:!1};return(...t)=>{if(!o.called)return o.called=!0,e(...t)}}function Re(e,...o){e&&o.length>0&&e.classList.add(...o)}function ye(e,...o){e&&o.length>0&&e.classList.remove(...o)}var $e=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))($e||{});function yl(e,o){let t=ce();if(!e)return t.dispose;let{transitionDuration:n,transitionDelay:l}=getComputedStyle(e),[a,r]=[n,l].map(i=>{let[d=0]=i.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,s)=>s-u);return d});return a!==0?t.setTimeout(()=>o("finished"),a+r):o("finished"),t.add(()=>o("cancelled")),t.dispose}function Ke(e,o,t,n,l,a){let r=ce(),i=a!==void 0?xl(a):()=>{};return ye(e,...l),Re(e,...o,...t),r.nextFrame(()=>{ye(e,...t),Re(e,...n),r.add(yl(e,d=>(ye(e,...n,...o),Re(e,...l),i(d))))}),r.add(()=>ye(e,...o,...t,...n,...l)),r.add(()=>i("cancelled")),r.dispose}function te(e=""){return e.split(/\s+/).filter(o=>o.length>1)}let Fe=Symbol("TransitionContext");var wl=(e=>(e.Visible="visible",e.Hidden="hidden",e))(wl||{});function Sl(){return ie(Fe,null)!==null}function Ol(){let e=ie(Fe,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function El(){let e=ie(ke,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let ke=Symbol("NestingContext");function Ie(e){return"children"in e?Ie(e.children):e.value.filter(({state:o})=>o==="visible").length>0}function pt(e){let o=T([]),t=T(!1);Y(()=>t.value=!0),Oe(()=>t.value=!1);function n(a,r=Q.Hidden){let i=o.value.findIndex(({id:d})=>d===a);i!==-1&&(W(r,{[Q.Unmount](){o.value.splice(i,1)},[Q.Hidden](){o.value[i].state="hidden"}}),!Ie(o)&&t.value&&(e==null||e()))}function l(a){let r=o.value.find(({id:i})=>i===a);return r?r.state!=="visible"&&(r.state="visible"):o.value.push({id:a,state:"visible"}),()=>n(a,Q.Unmount)}return{children:o,register:l,unregister:n}}let ht=fe.RenderStrategy,Il=Z({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:o,attrs:t,slots:n,expose:l}){let a=T(0);function r(){a.value|=H.Opening,o("beforeEnter")}function i(){a.value&=~H.Opening,o("afterEnter")}function d(){a.value|=H.Closing,o("beforeLeave")}function u(){a.value&=~H.Closing,o("afterLeave")}if(!Sl()&&dl())return()=>ae(Le,{...e,onBeforeEnter:r,onAfterEnter:i,onBeforeLeave:d,onAfterLeave:u},n);let s=T(null),f=S(()=>e.unmount?Q.Unmount:Q.Hidden);l({el:s,$el:s});let{show:b,appear:g}=Ol(),{register:m,unregister:x}=El(),R=T(b.value?"visible":"hidden"),L={value:!0},y=be(),M={value:!1},V=pt(()=>{!M.value&&R.value!=="hidden"&&(R.value="hidden",x(y),u())});Y(()=>{let w=m(y);Oe(w)}),K(()=>{if(f.value===Q.Hidden&&y){if(b.value&&R.value!=="visible"){R.value="visible";return}W(R.value,{hidden:()=>x(y),visible:()=>m(y)})}});let h=te(e.enter),$=te(e.enterFrom),F=te(e.enterTo),v=te(e.entered),P=te(e.leave),c=te(e.leaveFrom),p=te(e.leaveTo);Y(()=>{K(()=>{if(R.value==="visible"){let w=I(s);if(w instanceof Comment&&w.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function O(w){let A=L.value&&!g.value,C=I(s);!C||!(C instanceof HTMLElement)||A||(M.value=!0,b.value&&r(),b.value||d(),w(b.value?Ke(C,h,$,F,v,z=>{M.value=!1,z===$e.Finished&&i()}):Ke(C,P,c,p,v,z=>{M.value=!1,z===$e.Finished&&(Ie(V)||(R.value="hidden",x(y),u()))})))}return Y(()=>{G([b],(w,A,C)=>{O(C),L.value=!1},{immediate:!0})}),de(ke,V),nt(S(()=>W(R.value,{visible:H.Open,hidden:H.Closed})|a.value)),()=>{let{appear:w,show:A,enter:C,enterFrom:z,enterTo:ee,entered:re,leave:De,leaveFrom:_l,leaveTo:zl,..._e}=e,mt={ref:s},bt={..._e,...g.value&&b.value&&Ee.isServer?{class:N([t.class,_e.class,...h,...$])}:{}};return X({theirProps:bt,ourProps:mt,slot:{},slots:n,attrs:t,features:ht,visible:R.value==="visible",name:"TransitionChild"})}}}),Cl=Il,Le=Z({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:o,attrs:t,slots:n}){let l=Ae(),a=S(()=>e.show===null&&l!==null?(l.value&H.Open)===H.Open:e.show);K(()=>{if(![!0,!1].includes(a.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let r=T(a.value?"visible":"hidden"),i=pt(()=>{r.value="hidden"}),d=T(!0),u={show:a,appear:S(()=>e.appear||!d.value)};return Y(()=>{K(()=>{d.value=!1,a.value?r.value="visible":Ie(i)||(r.value="hidden")})}),de(ke,i),de(Fe,u),()=>{let s=ge(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),f={unmount:e.unmount};return X({ourProps:{...f,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[ae(Cl,{onBeforeEnter:()=>o("beforeEnter"),onAfterEnter:()=>o("afterEnter"),onBeforeLeave:()=>o("beforeLeave"),onAfterLeave:()=>o("afterLeave"),...t,...f,...s},n.default)]},attrs:{},features:ht,visible:r.value==="visible",name:"Transition"})}}});const Tl={class:"relative w-full"},Rl={class:"relative w-full cursor-default rounded-lg bg-base-10"},Ml={class:""},$l={class:""},Nl=Z({__name:"SingleSelectCombobox",props:{field:String,placeholder:String},setup(e){const o=T([]),t=e;let n=T([]);Y(()=>{l()});async function l(){try{const d=await qe.getSeriesFieldValues(`${t.field}`);o.value=d.data,console.log(o.value)}catch(d){console.log(d)}}let a=T("");const r=S(()=>a.value===""?null:a.value.trim());let i=S(()=>a.value===""?o.value:o.value.filter(d=>d.value.toLowerCase().replace(/\s+/g,"").includes(a.value.toLowerCase().replace(/\s+/g,""))));return(d,u)=>(D(),ue(E(dt),{modelValue:E(n),"onUpdate:modelValue":u[2]||(u[2]=s=>pe(n)?n.value=s:n=s),nullable:""},{default:U(()=>[k("div",Tl,[k("div",Rl,[j(E(ft),{class:"w-full input input-bordered",autoComplete:"off",onChange:u[0]||(u[0]=s=>pe(a)?a.value=s.target.value:a=s.target.value),placeholder:e.placeholder},null,8,["placeholder"]),j(E(ct),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:U(()=>[j(E(Ze),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),j(E(Le),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:u[1]||(u[1]=s=>pe(a)?a.value="":a="")},{default:U(()=>[j(E(vt),{class:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-base-100 py-1 shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",style:{"z-index":"1"}},{default:U(()=>[(D(!0),q(me,null,Me(E(i),s=>(D(),ue(E(Se),{as:"template",key:s.id,value:s.value},{default:U(({active:f})=>[k("ul",Ml,[k("li",{class:N(["relative cursor-pointer select-none py-3 pl-10 pr-4",{"bg-base-300 text-white":f,"text-white":!f}])},[k("span",{class:N(["block truncate",{"font-medium":f,"font-normal":!f}])},he(s.value),3),E(n)?(D(),q("span",{key:0,class:N(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-teal-400":f,"text-white":!f}])},[j(E(we),{class:"h-5 w-5","aria-hidden":"true"})],2)):oe("",!0)],2)])]),_:2},1032,["value"]))),128)),r.value?(D(),ue(E(Se),{key:0,value:r.value,class:"relative cursor-default"},{default:U(({active:s})=>[k("ul",$l,[k("li",{class:N(["relative cursor-pointer select-none py-3 pl-10 pr-4",{"bg-base-300 text-white":s,"text-white":!s}])},[k("span",{class:N(["block truncate",{"font-medium":s,"font-normal":!s}])},' Create "'+he(E(a))+'" ',3),E(n)?(D(),q("span",{key:0,class:N(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":s,"text-teal-600":!s}])},[j(E(we),{class:"h-5 w-5","aria-hidden":"true"})],2)):oe("",!0)],2)])]),_:1},8,["value"])):oe("",!0)]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}}),Pl={class:"relative w-full"},Al={class:"relative w-full cursor-default rounded-lg bg-base-10"},Fl={class:""},kl={key:0,class:"flex flex-wrap justify-center mt-2 gap-2 h-12 overflow-auto"},Ll={class:"text-white text-xs px-2 py-1"},Dl=["onClick"],Hl=Z({__name:"MultiSelectCombobox",props:St({field:String,placeholder:String},{modelValue:{type:Array,default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=T([]),t=e,n=Ot(e,"modelValue");Y(()=>{l()});async function l(){try{const b=await qe.getSeriesFieldValues(`${t.field}`);o.value=b.data,console.log("items2multiple",o.value)}catch(b){console.log(b)}}let a=T("");const r=S(()=>a.value===""?null:a.value.trim());let i=S(()=>a.value===""?o.value:o.value.filter(b=>b.value.toLowerCase().replace(/\s+/g,"").includes(a.value.toLowerCase().replace(/\s+/g,""))));const d=S(()=>n.value.length>0?n.value.join(", "):t.placeholder),u=b=>{n.value=n.value.filter(g=>g!==b),console.log("model: ",n.value)},s=b=>{o.value.find(g=>g.value===b)||o.value.push({id:b,value:b}),n.value.includes(b)||n.value.push(b),a.value=""};G(n,()=>{a.value=""});const f=()=>{r.value&&s(r.value)};return(b,g)=>(D(),ue(E(dt),{modelValue:n.value,"onUpdate:modelValue":g[3]||(g[3]=m=>n.value=m),multiple:""},{default:U(()=>[k("div",Pl,[k("div",Al,[j(E(ft),{class:"w-full input input-bordered",displayValue:()=>E(a),onKeydown:Et(It(f,["prevent"]),["enter"]),autoComplete:"off",onChange:g[0]||(g[0]=m=>pe(a)?a.value=m.target.value:a=m.target.value),placeholder:d.value},null,8,["displayValue","onKeydown","placeholder"]),j(E(ct),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:U(()=>[j(E(Ze),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),j(E(Le),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:g[2]||(g[2]=m=>pe(a)?a.value="":a="")},{default:U(()=>[j(E(vt),{class:"absolute mt-1 max-h-60 w-full dropdown-content overflow-auto rounded-md bg-base-100 py-1 shadow-lg ring-2 ring-gray-400/5 focus:outline-none sm:text-sm",style:{"z-index":"1"}},{default:U(()=>[(D(!0),q(me,null,Me(E(i),m=>(D(),ue(E(Se),{as:"template",key:m.id,value:m.value},{default:U(({active:x,selected:R})=>[k("ul",Fl,[k("li",{class:N(["relative cursor-pointer select-none py-3 pl-10 pr-4",{"bg-base-300 text-teal-400":x,"text-white":!x}])},[k("span",{class:N(["block truncate",{"font-medium":x,"font-normal":!x}])},he(m.value),3),R?(D(),q("span",{key:0,class:N(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-teal-400":x,"text-white":!x}])},[j(E(we),{class:"h-5 w-5","aria-hidden":"true"})],2)):oe("",!0)],2)])]),_:2},1032,["value"]))),128)),r.value?(D(),ue(E(Se),{key:0,value:r.value,onClick:g[1]||(g[1]=m=>s(r.value)),class:"relative cursor-pointer"},{default:U(({active:m,selected:x})=>[k("ul",null,[k("li",{class:N(["relative cursor-default select-none py-3 pl-10 pr-4",{"bg-base-300 text-white":m,"text-white":!m}])},[k("span",{class:N(["block truncate",{"font-medium":m,"font-normal":!m}])},he(E(a)),3),x?(D(),q("span",{key:0,class:N(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":m,"text-teal-600":!m}])},[j(E(we),{class:"h-5 w-5","aria-hidden":"true"})],2)):oe("",!0)],2)])]),_:1},8,["value"])):oe("",!0)]),_:1})]),_:1}),n.value.length?(D(),q("div",kl,[(D(!0),q(me,null,Me(n.value,(m,x)=>(D(),q("div",{key:x,class:"badge badge-info p-0 bg-base-600 rounded-md"},[k("span",Ll,he(m),1),k("button",{type:"button",class:"ml-1 focus:outline-none self-center",onClick:R=>u(m)},g[4]||(g[4]=[k("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"inline-block h-4 w-4 stroke-current"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Dl)]))),128))])):oe("",!0)])]),_:1},8,["modelValue"]))}});export{Nl as _,Hl as a};
